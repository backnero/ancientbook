{"version":3,"sources":["webpack:///./src/utils/isMobile.js","webpack:///./src/App.vue?470b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/getters.js","webpack:///./src/store/modules/app.js","webpack:///./src/utils/auth.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/index.js","webpack:///./src/utils/get-page-title.js","webpack:///./src/utils/authorization.js","webpack:///./src/permission.js","webpack:///./src/main.js"],"names":["__webpack_exports__","navigator","userAgent","match","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","routerPush","Router","prototype","push","location","call","catch","error","Vue","use","routes","path","component","e","then","bind","redirect","children","meta","title","router","mode","getters","device_type","state","app","Cookies","get","mutations","SET_DEVICE_TYPE","type","set","actions","if_Device","_ref","commit","_isMobile","TokenKey","user","token","SET_TOKEN","Login_token","userInfo","promise_default","a","resolve","reject","setToken","FedLogOut","_ref2","remove","LogOut","_ref3","Vuex","store","Store","modules","isAuthorization","beforeEach","asyncToGenerator_default","regenerator_default","mark","_callee","to","from","next","wrap","_context","prev","dispatch","document","pageTitle","stop","_this","_x","_x2","_x3","apply","arguments","Vant","Lazyload","lazyComponent","VueAwesomeSwiper","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.cfb317fa49692006a1d3.js","sourcesContent":["export function _isMobile() {\n    let flag = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)\n    return flag;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/isMobile.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ee973a3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ee973a3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ee973a3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nconst routerPush = Router.prototype.push\nRouter.prototype.push = function push(location) {\n  return routerPush.call(this, location).catch(error => error)\n}\n\nVue.use(Router)\n\nconst routes = [\n  {\n    path: \"*\",\n    name: \"pages\",\n    component: () => import('@/pages/index'),\n  },\n\n  {\n    path: \"/pc\",\n    name: \"pc\",\n    redirect: '/pc/home',\n    component: () => import('@/pages/pc/index'),\n    children: [\n      {\n        path: \"home\",\n        name: \"home\",\n        component: () => import('@/pages/pc/home/index'),\n      },\n      {\n        path: \"statistics\",\n        name: \"statistics\",\n        meta: { title: '穴位频次' },\n        component: () => import('@/pages/pc/statistics/index'),\n      },\n\n      {\n        path: \"searchlist\",\n        name: \"searchlist\",\n        meta: { title: '搜索结果' },\n        component: () => import('@/pages/pc/searchlist/index'),\n      },\n    ]\n  },\n  // 路由跳转 传参\n  // this.$router.push({name:\"mobile\",params:{id:123}})\n  {\n    path: \"/mobile\",\n    name: \"mobile\",\n    redirect: '/mobile/home',\n    component: () => import('@/pages/mobile/index'),\n    children: [\n      {\n        path: \"home\",\n        name: \"m_home\",\n        component: () => import('@/pages/mobile/home/index'),\n      },\n      {\n        path: \"searchlist\",\n        name: \"m_searchlist\",\n        meta: { title: '病状搜索结果' },\n        component: () => import('@/pages/mobile/searchlist/index'),\n      },\n      {\n        path: \"statistics\",\n        name: \"m_statistics\",\n        meta: { title: '穴位频次' },\n        component: () => import('@/pages/mobile/statistics/index'),\n      },\n    ]\n  },\n]\n\nexport default new Router({\n  mode: 'history',\n  routes\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const getters = {\n    device_type: state => state.app.device_type,\n}\nexport default getters\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Cookies from 'js-cookie'\nimport { _isMobile } from \"@/utils/isMobile.js\";\n\nconst app = {\n    state: {\n        device_type: Cookies.get('device_type'),\n    },\n    mutations: {\n        SET_DEVICE_TYPE: (state, type) => {\n            Cookies.set('device_type', type)\n            state.device_type = type\n        },\n    },\n    actions: {\n        //判断设备\n        if_Device({ commit, state }) {\n            if (_isMobile()) {\n                if (state.device_type != \"mobile\") {\n                    commit(\"SET_DEVICE_TYPE\", \"mobile\");\n                    // router.replace(`/mobile`)\n                }\n            } else {\n                if (state.device_type != \"pc\") {\n                    commit(\"SET_DEVICE_TYPE\", \"pc\");\n                    // router.replace(`/pc`)\n                }\n            }\n            // this.$router.replace(`/${this.device_type}`);\n        },\n    }\n}\n\nexport default app\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","import Cookies from 'js-cookie'\n\nconst TokenKey = 'Agent-Token'\n\nexport function getToken() {\n  return Cookies.get(TokenKey)\n}\n\nexport function setToken(token) {\n  return Cookies.set(TokenKey, token)\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/auth.js","import { getToken, setToken, removeToken } from '@/utils/auth'\n\nconst user = {\n    state: {\n        token: getToken(),\n    },\n\n    mutations: {\n        SET_TOKEN: (state, token) => {\n            state.token = token\n        },\n    },\n\n    actions: {\n        Login_token({ commit }, userInfo) {\n            const { token } = userInfo\n            return new Promise((resolve, reject) => {\n                if (token) {\n                    setToken(token)\n                    commit('SET_TOKEN', token)\n                    resolve()\n                } else {\n                    reject('token:undefind')\n                }\n            })\n        },\n        // 前端 登出\n        FedLogOut({ commit }) {\n            return new Promise(resolve => {\n                commit('SET_TOKEN', '')\n                removeToken()\n                resolve()\n            })\n        },\n        // 后端 登出\n        LogOut({ commit, state }) {\n            return new Promise((resolve, reject) => {\n                // logout({ token: state.token, agent_id: App.ID }).then(() => {\n                //     commit('SET_TOKEN', '')\n                //     commit('SET_ROLES', [])\n                //     removeToken()\n                //     resolve()\n                // }).catch(error => {\n                //     reject(error)\n                // })\n            })\n        },\n    }\n}\n\nexport default user\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport getters from './getters'\n\nimport app from './modules/app'\nimport user from './modules/user'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n    modules: {\n        app,\n        user\n    },\n    getters\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","const title = '古籍检索系统'\n\nexport default function getPageTitle(pageTitle) {\n    if (pageTitle) {\n        // return `${pageTitle} - ${title}`\n        return `${pageTitle}`\n    }\n    return `${title}`\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/get-page-title.js","import store from '../store'\nimport App from \"./configApp\";\nimport jump from \"./loginWebsite\";\n\nfunction isAuthorization(to, next) {\n    const uri = App.uri\n    const ID = App.ID\n    let href = window.location.href\n    if (to.query.token) {\n        //登录成功携带token\n        store.dispatch(\"Login_token\", { token: decodeURIComponent(to.query.token) }).then(() => {\n            next({ path: to.path, query: {}, replace: true })\n        });\n    } else {\n        // if (href.indexOf('?') !== -1) {\n        //     console.log(href)\n        //     var last = href.indexOf('?');\n        //     href = href.substring(0, last)\n        // }\n        jump(uri, encodeURIComponent(href.match(/(\\w+):\\/\\/([^/:]+)(:\\d*)?/)[0] + to.path), ID)\n    }\n}\n\nexport default isAuthorization\n\n\n// WEBPACK FOOTER //\n// ./src/utils/authorization.js","import router from './router'\nimport { getToken } from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\nimport isAuthorization from \"@/utils/authorization\";\nimport store from \"@/store\";\n\nrouter.beforeEach(async (to, from, next) => {\n    await store.dispatch(\"if_Device\");\n    document.title = getPageTitle(to.meta.title)\n    // const hasToken = getToken()\n    // if (hasToken) {\n    //     next()\n    // } else {\n    //     isAuthorization(to, next)\n    // }\n    next()\n\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\n\n//引入vant\nimport Vant, { Lazyload } from 'vant';\nimport 'vant/lib/index.css';//vant样式\n\n//公共样式\nimport './assets/styles/index.scss';\n\n//iconfont\nimport './assets/iconfont/iconfont.css'\n\nimport './permission' // permission control\n\n//element-ui\n// import {\n// } from 'element-ui';\n\nVue.use(Vant);\n\nVue.use(Lazyload, {\n  lazyComponent: true\n});\n\n\n//element-ui\n// Vue.use(Col);\n\n// swiper\nVue.use(VueAwesomeSwiper,)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}